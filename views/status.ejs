<!DOCTYPE html>

<html>
  <head>
	 <meta charset="utf-8">
	 <meta http-equiv="X-UA-Compatible" content="IE=edge">
	 <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	 <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->


	 <link href="/stylesheets/bootstrap.min.css" rel="stylesheet">
	 <script type='text/javascript' src='/javascript/jquery.min.js' ></script>
	 <script type='text/javascript' src='/javascript/bootstrap.js' ></script>
	 <script type='text/javascript' src='http://cdn.bootcss.com/jquery-url-parser/2.3.1/purl.js' ></script>

	 <style>

		.table {
			background-color: rgb(255,255,255);
		}

		tr {
			background-color: rgb(255,255,255);
			
		}

		h1,h2,h3,h4,h5 {
			text-shadow: 1px 1px 1px #888888;
		}


	 </style>

  </head>
  <body>
  <div class="container">
  <div class="row">
  <div class="col-md-12">
  <div class="navbar navbar-default navbar-fixed-top navbar-inverse">
  <div class="container">
  <div class="navbar-header">
  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-ex-collapse">
  <span class="sr-only">Toggle navigation</span>
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  <span class="icon-bar"></span>
  </button>
  <a class="navbar-brand" href="#"><span>MyOJ</span></a>
  </div>
  <div class="collapse navbar-collapse" id="navbar-ex-collapse">
  <ul class="nav navbar-left navbar-nav">
  <li class="active">
  <a href="/problemset?page=1">Problem<span class='sr-only'>(current)</a>
  </li>
  <li>
  <a href="/status">Status</a>
  </li>
  <li>
  <a href="/contest">Contest<br></a>
  </li>
  </ul>
  <ul class="nav navbar-nav navbar-right">
  <li>
  <a href="/admin">Admin</a>
  </li>
  <li>
  <a href="/user/profile"><%=username%></a>
  </li>
  <li>
  <a href="/user/logout">Logout</a>
  </li>
  </ul>
  </div>
  </div>
  </div>
  </div>
  </div>
  </div>

  <br>
  <br>
  <br>


		<div class='container'>
			<div class="col-md-12">
				<ul class="pagination">
					<li><a href="#">Prev</a> </li>
					<li><a href="#">1</a></li>
					<li><a href="#">2</a></li>
					<li><a href="#">3</a></li>
					<li><a href="#">4</a></li>
					<li><a href="#">5</a></li>
					<li><a href="#">Next</a> </li>
				</ul>
			</div>
			  
 			  <table class='table table-striped table-bordered'>
					<thead>
						<th class='col-md-1'>#</th>
						<th>User</th>
						<th>Problem</th>
						<th>Result</th>
						<th>Memory</th>
						<th>Time</th>
						<th>Length</th>
						<th>Submit Time</th>
					</thead>
					<tbody>
					<% for(var i = 0; i < solutions.length; ++i) {%>
						<tr>
							<td><%= solutions[i]._id %></td>
							<td><a href="#"><%= solutions[i].userName %></a> </td>
							<td><a href="/problem?probmeId=<%= solutions[i].problem %>"><%= solutions[i].problem %></a></td>
							<td><%= solutions[i].result %></a></td>
							<td><%= solutions[i].memory %></a></td>
							<td><%= solutions[i].time %></a></td>
							<td><%= solutions[i].length %></a></td>
							<td><%= solutions[i].submitTime %></a></td>
						</tr>
					<% } %>
					</tbody>
			  </table>
	  	</div>

		<div class="modal fade" id='code-review-modal'>
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
						<h4 class="modal-title"><%= problem.title %></h4>
					</div>
					<div class="modal-body">
						<textarea cols="90%" rows="20%" id="code"></textarea>
					</div>
					<div class="modal-footer">
						<a class="btn btn-default" id='submit-button'>Submit</a>
						<a class="btn btn-default" data-dismiss="modal">Close</a>
					</div>
				</div>
			</div>
		</div>

		<script>
			$(document).ready(function () {
				$("#submit-button").on("click", function() {
					var code = $("#code").val();
					alert(code);
					var problemid = $.url(location).param('problemId');
					$.post("submit", { problemId: problemid, srcCode: code }, function(result) {
						alert(result);
					}, "json");
					alert(problemid);
				});
			});
//			$(function () { $('#code-review-modal').modal({
//				keyboard: true
//			})});
		</script>


		
  </body>
</html>
